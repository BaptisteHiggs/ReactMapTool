(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(t,e,n){t.exports=n(97)},58:function(t,e,n){},95:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(8),s=n.n(o),r=(n(24),n(21)),l=n(31),u=n.n(l),i=n(99);var m=async function(t){const e=function(t){const e='poly:"'.concat(t.map(t=>"".concat(t.lat.toString()," ").concat(t.lng.toString())).join(" "),'"');return console.log(e),"data="+encodeURIComponent("\n    [out:json][timeout:30];\n    node(".concat(e,");\n    way(").concat(e,");\n    (._;>;);\n    out;\n"))}(t);console.log(e);const n=await i.a.post("https://overpass-api.de/api/interpreter",e);return console.log(n),n.data};const f="accessToken";function d(t){const e=window.location.search;if(e.length<1||"?"!==e.charAt(0))return"";{const n=e.substring(1).split("&");for(const e of n){const n=e.split("=");if(n[0]===t)return n[1]}return""}}var p=n(32),b=n.n(p),g=(n(58),n(33));n(93),n(94);function v(t){return Object.fromEntries(t.map(t=>[t,null]))}var w=t=>{let{data:e}=t;const[n,o]=Object(a.useState)(500),[s,r]=Object(a.useState)(900),l=function(t){var e,n;return null!==(e=null===t||void 0===t?void 0:null===(n=t.elements)||void 0===n?void 0:n.filter(t=>!!t.tags))&&void 0!==e?e:[]}(e),u=function(t){const e=[];for(const n of t){const t=Object.keys(n.tags);for(const n of t)e.includes(n)||e.push(n)}return e}(l),[i,m]=Object(a.useState)(function(t,e){const n=[];for(const a of e){const e=v(t);for(const t of Object.keys(a.tags))e[t]=a.tags[t];n.push(e)}return n}(u,l)),[f,d]=Object(a.useState)(u.map(t=>({field:t})));return c.a.createElement("div",{className:"ag-theme-quartz",style:{height:n,width:s,resize:"both"}},c.a.createElement(g.AgGridReact,{rowData:i,columnDefs:f}))};const E=Object(r.default)({accessToken:d(f)}),h=()=>{const[t,e]=Object(a.useState)(null),[n,o]=Object(a.useState)(!1),[s,r]=Object(a.useState)(null);Object(a.useEffect)(()=>{if(t){(async()=>{const n=await t;e(null),o(!1),r(n)})()}},[t]);return c.a.createElement("div",null,(!!s||n)&&c.a.createElement(b.a,{className:"draggable"},c.a.createElement("div",{className:"box"},n?c.a.createElement("div",{style:{padding:"5px"}},"Loading data..."):c.a.createElement(w,{data:s}))),c.a.createElement(E,{style:"mapbox://styles/mapbox/streets-v9",containerStyle:{height:"100vh",width:"100vw"}},c.a.createElement(u.a,{onDrawCreate:t=>{let{features:n}=t;const a=n[0].geometry.coordinates[0].map(t=>({lat:t[1],lng:t[0]}));e(m(a)),o(!0)},onDrawUpdate:t=>{let{features:e}=t},controls:{point:!1,line_string:!1,polygon:!0,trash:!0,combine_features:!1,uncombine_features:!1},onDrawModeChange:t=>{}})))};n(95),n(96);var y=async function(t){var e,n;return 401!==(await async function(t){const e=await fetch(t),n=e.json(),a=e.status;return{data:n,number:a}}((e="example",n=t,"https://api.mapbox.com/styles/v1/".concat(e,"?access_token=").concat(n)))).number};const j=()=>{const[t,e]=Object(a.useState)("");Object(a.useEffect)(()=>{(async()=>{await y(t)&&function(t,e){window.location.search="".concat(t,"=").concat(e)}(f,t)})()},[t]);return c.a.createElement("div",{className:"tokenInputDiv"},c.a.createElement("form",{className:"form"},c.a.createElement("label",{className:"label",htmlFor:"text-input"},"Enter Mapbox Access Token:"),c.a.createElement("br",null)," ",c.a.createElement("br",null),c.a.createElement("input",{className:"input",type:"text",id:"text-input",value:t,onChange:t=>{e(t.target.value)}})))};function O(){const[t,e]=Object(a.useState)(!1),n=d(f);return Object(a.useEffect)(()=>{(async()=>{const t=await y(n);e(t)})()},[n]),t?c.a.createElement(h,null):c.a.createElement(j,null)}s.a.render(c.a.createElement(O,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.ec197df1.chunk.js.map